<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Founder Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #ff006e, #8338ec, #3a86ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header h1 svg {
            width: 50px;
            height: 50px;
        }

        .roadmap {
            display: flex;
            justify-content: space-between;
            margin-bottom: 50px;
            position: relative;
            padding: 20px 0;
        }

        .roadmap::before {
            content: '';
            position: absolute;
            top: 35px;
            left: 10%;
            right: 10%;
            height: 3px;
            background: #333;
            z-index: 0;
        }

        .step-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1;
            flex: 1;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #222;
            border: 3px solid #333;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .step-indicator.active .step-circle {
            background: linear-gradient(135deg, #ff006e, #8338ec);
            border-color: #ff006e;
            transform: scale(1.1);
        }

        .step-indicator.completed .step-circle {
            background: #10b981;
            border-color: #10b981;
        }

        .step-label {
            font-size: 0.85rem;
            text-align: center;
            color: #888;
        }

        .step-indicator.active .step-label {
            color: #fff;
            font-weight: 600;
        }

        .form-card {
            background: #1a1a1a;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
        }

        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #fff;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px 16px;
            background: #0a0a0a;
            border: 2px solid #333;
            border-radius: 10px;
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #ff006e;
            box-shadow: 0 0 0 3px rgba(255, 0, 110, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .keywords-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .keyword-input {
            flex: 1;
            min-width: 150px;
        }

        .tags-input-wrapper {
            background: #0a0a0a;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 12px;
            min-height: 56px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
            cursor: text;
            transition: all 0.3s ease;
        }

        .tags-input-wrapper:focus-within {
            border-color: #ff006e;
            box-shadow: 0 0 0 3px rgba(255, 0, 110, 0.1);
        }

        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            flex: 1;
        }

        .tag-pill {
            background: linear-gradient(135deg, #ff006e, #8338ec);
            color: #fff;
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            animation: popIn 0.3s ease;
        }

        @keyframes popIn {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .tag-remove {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: #fff;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .tag-remove:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }

        .tags-main-input {
            border: none;
            background: transparent;
            flex: 1;
            min-width: 150px;
            padding: 4px 0;
        }

        .tags-main-input:focus {
            outline: none;
            border: none;
            box-shadow: none;
        }

        .file-upload {
            border: 2px dashed #333;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: #ff006e;
            background: rgba(255, 0, 110, 0.05);
        }

        .file-upload input {
            display: none;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: #0a0a0a;
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid #333;
            transition: all 0.3s ease;
        }

        .checkbox-item:hover {
            border-color: #8338ec;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 14px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-next {
            background: linear-gradient(135deg, #ff006e, #8338ec);
            color: #fff;
        }

        .btn-next:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 0, 110, 0.3);
        }

        .btn-draft {
            background: #333;
            color: #fff;
        }

        .btn-draft:hover {
            background: #444;
        }

        .btn-back {
            background: #222;
            color: #fff;
        }

        .btn-back:hover {
            background: #333;
        }

        .btn-launch {
            background: linear-gradient(135deg, #10b981, #3a86ff);
            color: #fff;
        }

        .btn-launch:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3);
        }

        .celebration {
            display: none;
            text-align: center;
            padding: 60px;
        }

        .celebration.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .celebration svg {
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .celebration h2 {
            font-size: 2rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #10b981, #3a86ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .dashboard-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 14px 40px;
            background: linear-gradient(135deg, #ff006e, #8338ec);
            color: #fff;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .dashboard-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 0, 110, 0.3);
        }

        .required {
            color: #ff006e;
        }

        .equity-suffix {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .equity-suffix label {
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container vest-container">
        <div class="header">
            <h1>
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" fill="url(#grad1)" stroke="url(#grad1)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 17L12 22L22 17" stroke="url(#grad1)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 12L12 17L22 12" stroke="url(#grad1)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <defs>
                        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#ff006e;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#8338ec;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#3a86ff;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                Create Your Vest
            </h1>
            <p>Launch your startup vision in 5 simple steps</p>
        </div>

        <div class="roadmap">
            <div class="step-indicator active" data-step="1">
                <div class="step-circle">1</div>
                <div class="step-label">Basic Info</div>
            </div>
            <div class="step-indicator" data-step="2">
                <div class="step-circle">2</div>
                <div class="step-label">Startup Details</div>
            </div>
            <div class="step-indicator" data-step="3">
                <div class="step-circle">3</div>
                <div class="step-label">Documents</div>
            </div>
            <div class="step-indicator" data-step="4">
                <div class="step-circle">4</div>
                <div class="step-label">Funding</div>
            </div>
            <div class="step-indicator" data-step="5">
                <div class="step-circle">5</div>
                <div class="step-label">Launch</div>
            </div>
        </div>

        <div class="form-card">
            <!-- Step 1: Basic Info -->
           <div class="step-content active" data-step="1" id="vest_step1">
                <h2>
                    <svg style="width: 30px; height: 30px; display: inline-block; vertical-align: middle; margin-right: 10px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" fill="#ff006e" stroke="#ff006e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14 2V8H20" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 13H8" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 17H8" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 9H9H8" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Basic Information
                </h2>
                <p style="color: #888; margin-bottom: 30px;">Let's start with the essentials</p>

                <div class="form-group">
                    <label>Vest Title <span class="required">*</span></label>
                    <input type="text" id="vestTitle" placeholder="Enter your vest title" required>
                </div>

                <div class="form-group">
                    <label>Vest Description <span class="required">*</span></label>
                    <textarea id="vestDescription" placeholder="Describe your vest..." required></textarea>
                </div>

                <div class="form-group">
                    <label>Search Keywords (5 tags) <span class="required">*</span></label>
                    <div class="tags-input-wrapper" onclick="document.getElementById('keywordInput').focus()">
                        <div class="tags-container" id="tagsContainer"></div>
                        <input type="text" id="keywordInput" class="tags-main-input" placeholder="Type keyword and press Enter..." maxlength="30">
                    </div>
                    <small style="color: #888; display: block; margin-top: 8px;">Maximum 5 keywords. Press Enter to add.</small>
                </div>

                <div class="buttons">
                    <button class="btn-draft" onclick="saveAsDraft()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17 21V13H7V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 3V8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Save as Draft
                    </button>
                    <button class="btn-next" onclick="nextStep()">
                        Next Step
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-left: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Step 2: Startup Details -->
           <div class="step-content active" data-step="2" id="vest_step2">
                <h2>
                    <svg style="width: 30px; height: 30px; display: inline-block; vertical-align: middle; margin-right: 10px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" fill="#8338ec" stroke="#8338ec" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 22V12H15V22" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Startup Details
                </h2>
                <p style="color: #888; margin-bottom: 30px;">Tell us about your startup</p>

<div class="form-group">
    <label for="startupLogo">Upload Startup Logo</label>
    <input type="file" id="startupLogo" accept="image/*">
    <small>Supports PNG, JPG, or SVG</small>
</div>

                <div class="form-group">
                    <label>Startup Stage <span class="required">*</span></label>
                    <select id="startupStage" required>
                        <option value="">Select stage</option>
                        <option value="idea">Idea</option>
                        <option value="mvp">MVP</option>
                        <option value="early-stage">Early Stage</option>
                        <option value="growth">Growth</option>
                        <option value="established">Established</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Category <span class="required">*</span></label>
                    <select id="category" required>
                        <option value="">Select category</option>
                        <option value="tech">Technology</option>
                        <option value="fintech">Fintech</option>
                        <option value="healthcare">Healthcare</option>
                        <option value="ecommerce">E-commerce</option>
                        <option value="saas">SaaS</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Startup Name <span class="required">*</span></label>
                    <input type="text" id="startupName" placeholder="Enter startup name" required>
                </div>

                <div class="form-group">
                    <label>What it does (50 words) <span class="required">*</span></label>
                    <textarea id="startupDescription" placeholder="Explain what your startup does..." maxlength="300" required></textarea>
                    <small style="color: #888;">Max 50 words (~300 characters)</small>
                </div>

                <div class="buttons">
                    <button class="btn-back" onclick="previousStep()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Back
                    </button>
                    <button class="btn-draft" onclick="saveAsDraft()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17 21V13H7V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 3V8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Save as Draft
                    </button>
                    <button class="btn-next" onclick="nextStep()">
                        Next Step
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-left: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Step 3: Documents -->
           <div class="step-content active" data-step="3" id="vest_step3">
                <h2>
                    <svg style="width: 30px; height: 30px; display: inline-block; vertical-align: middle; margin-right: 10px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z" fill="#3a86ff" stroke="#3a86ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M13 2V9H20" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Documents & Transactions
                </h2>
                <p style="color: #888; margin-bottom: 30px;">Upload your pitch deck and transaction proofs</p>

                <div class="form-group">
                    <label>Pitch Deck (PDF/Document)</label>
                    <div class="file-upload" onclick="document.getElementById('pitchDeck').click()">
                        <svg style="width: 60px; height: 60px; margin-bottom: 10px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="#ff006e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17 8L12 3L7 8" stroke="#8338ec" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 3V15" stroke="#3a86ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p>Click to upload pitch deck</p>
                        <small style="color: #888;">PDF, DOC, or DOCX</small>
                        <input type="file" id="pitchDeck" accept=".pdf,.doc,.docx">
                    </div>
                    <div id="pitchDeckName" style="margin-top: 10px; color: #10b981;"></div>
                </div>

                <div class="form-group">
                    <label>Transaction Proof (Photo/PDF)</label>
                    <div class="file-upload" onclick="document.getElementById('transactionProof').click()">
                        <svg style="width: 60px; height: 60px; margin-bottom: 10px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="#ff006e" stroke-width="2" fill="none"/>
                            <circle cx="8.5" cy="8.5" r="1.5" fill="#8338ec"/>
                            <path d="M21 15L16 10L5 21" stroke="#3a86ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p>Click to upload transaction proof</p>
                        <small style="color: #888;">Image or PDF</small>
                        <input type="file" id="transactionProof" accept="image/*,.pdf">
                    </div>
                    <div id="transactionProofName" style="margin-top: 10px; color: #10b981;"></div>
                </div>

                <div class="buttons">
                    <button class="btn-back" onclick="previousStep()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Back
                    </button>
                    <button class="btn-draft" onclick="saveAsDraft()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17 21V13H7V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 3V8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Save as Draft
                    </button>
                    <button class="btn-next" onclick="nextStep()">
                        Next Step
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-left: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Step 4: Funding -->
           <div class="step-content active" data-step="4" id="vest_step4">
                <h2>
                    <svg style="width: 30px; height: 30px; display: inline-block; vertical-align: middle; margin-right: 10px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10" fill="#10b981" stroke="#10b981" stroke-width="2"/>
                        <path d="M12 6V12L16 14" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Funding Requirements
                </h2>
                <p style="color: #888; margin-bottom: 30px;">Define your funding needs</p>

                <div class="form-group">
                    <label>Funding Requirement <span class="required">*</span></label>
                    <input type="number" id="fundingAmount" placeholder="Enter amount" required>
                </div>

                <div class="equity-suffix">
                    <input type="checkbox" id="equityOption" checked disabled>
                    <label>I am open to give equity</label>
                </div>

                <div class="form-group">
                    <label>Funding Options <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="debt" value="debt">
                            <label for="debt">
                                <svg style="width: 20px; height: 20px; display: inline-block; vertical-align: middle; margin-right: 8px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="2" y="5" width="20" height="14" rx="2" stroke="#ff006e" stroke-width="2" fill="none"/>
                                    <path d="M2 10H22" stroke="#ff006e" stroke-width="2"/>
                                </svg>
                                Debt
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="royalty" value="royalty">
                            <label for="royalty">
                                <svg style="width: 20px; height: 20px; display: inline-block; vertical-align: middle; margin-right: 8px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="#8338ec" stroke-width="2" fill="none"/>
                                </svg>
                                Royalty
                            </label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="equity" value="equity">
                            <label for="equity">
                                <svg style="width: 20px; height: 20px; display: inline-block; vertical-align: middle; margin-right: 8px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M22 12L18 8V11H10V13H18V16L22 12Z" fill="#3a86ff"/>
                                    <path d="M2 12L6 16V13H14V11H6V8L2 12Z" fill="#10b981"/>
                                </svg>
                                Equity
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Founder Name <span class="required">*</span></label>
                    <input type="text" id="founderName" placeholder="Enter founder name" required>
                </div>

                <div class="buttons">
                    <button class="btn-back" onclick="previousStep()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Back
                    </button>
                    <button class="btn-draft" onclick="saveAsDraft()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17 21V13H7V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 3V8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Save as Draft
                    </button>
                    <button class="btn-next" onclick="nextStep()">
                        Next Step
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-left: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Step 5: Launch -->
           <div class="step-content active" data-step="5" id="vest_step5">
                <h2>
                    <svg style="width: 30px; height: 30px; display: inline-block; vertical-align: middle; margin-right: 10px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L15 8L22 9L17 14L18 21L12 18L6 21L7 14L2 9L9 8L12 2Z" fill="url(#gradLaunch)" stroke="url(#gradLaunch)" stroke-width="2"/>
                        <defs>
                            <linearGradient id="gradLaunch" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#3a86ff;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                    </svg>
                    Ready to Launch!
                </h2>
                <p style="color: #888; margin-bottom: 30px;">Review and launch your vest</p>

                <div style="background: #0a0a0a; padding: 30px; border-radius: 10px; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px;">Summary</h3>
                    <div id="summary" style="color: #888; line-height: 1.8;"></div>
                </div>

                <div class="buttons">
                    <button class="btn-back" onclick="previousStep()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Back
                    </button>
                    <button class="btn-draft" onclick="saveAsDraft()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16L21 8V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M17 21V13H7V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M7 3V8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Save as Draft
                    </button>
                    <button class="btn-launch" onclick="launchVest()">
                        <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-right: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Launch Vest
                    </button>
                </div>
            </div>

            <!-- Celebration -->
            <div class="celebration" id="celebration">
                <svg style="width: 120px; height: 120px; margin-bottom: 20px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" fill="url(#gradCelebrate)" stroke="url(#gradCelebrate)" stroke-width="2"/>
                    <path d="M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14" stroke="#fff" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="9" cy="9" r="1" fill="#fff"/>
                    <circle cx="15" cy="9" r="1" fill="#fff"/>
                    <defs>
                        <linearGradient id="gradCelebrate" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#3a86ff;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                </svg>
                <h2>Successfully Launched!</h2>
                <p style="color: #888; margin-top: 10px;">Your vest is now live and ready for investors</p>
               <a href="#founder_dashboard" class="dashboard-btn">
                    Go to Founder Dashboard
                    <svg style="width: 18px; height: 18px; display: inline-block; vertical-align: middle; margin-left: 6px;" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 5L19 12L12 19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            </div>
        </div>
    </div>

   <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
import { getDatabase, ref, set, push, get } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';
    import { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';
    import { getAuth, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';

    const firebaseConfig = {
        apiKey: "AIzaSyD6PdrKp2XLfRqjC587lMpdKTaWD4MBens",
        authDomain: "scalevest-163a0.firebaseapp.com",
        databaseURL: "https://scalevest-163a0-default-rtdb.firebaseio.com",
        projectId: "scalevest-163a0",
        storageBucket: "scalevest-163a0.firebasestorage.app",
        messagingSenderId: "938358950124",
        appId: "1:938358950124:web:043506aeaacea2a96bfdc9",
        measurementId: "G-QD3TWBZHR0"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const storage = getStorage(app);
    const auth = getAuth(app);

    let currentUser = null;
const STORAGE_KEY = 'vestFormData';

// Save form data to localStorage
function saveToLocalStorage() {
    const formData = {
        vestTitle: document.getElementById('vestTitle')?.value || '',
        vestDescription: document.getElementById('vestDescription')?.value || '',
        keywords: keywords,
        startupStage: document.getElementById('startupStage')?.value || '',
        category: document.getElementById('category')?.value || '',
        startupName: document.getElementById('startupName')?.value || '',
        startupDescription: document.getElementById('startupDescription')?.value || '',
        fundingAmount: document.getElementById('fundingAmount')?.value || '',
        founderName: document.getElementById('founderName')?.value || '',
        currentStep: currentStep
    };
    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));
}

// Load form data from localStorage
function loadFromLocalStorage() {
    const saved = localStorage.getItem(STORAGE_KEY);
    if (!saved) return;
    
    const data = JSON.parse(saved);
    
    if (data.vestTitle) document.getElementById('vestTitle').value = data.vestTitle;
    if (data.vestDescription) document.getElementById('vestDescription').value = data.vestDescription;
    if (data.keywords) {
        keywords = data.keywords;
        updateTagsDisplay();
    }
    if (data.startupStage) document.getElementById('startupStage').value = data.startupStage;
    if (data.category) document.getElementById('category').value = data.category;
    if (data.startupName) document.getElementById('startupName').value = data.startupName;
    if (data.startupDescription) document.getElementById('startupDescription').value = data.startupDescription;
    if (data.fundingAmount) document.getElementById('fundingAmount').value = data.fundingAmount;
    if (data.founderName) document.getElementById('founderName').value = data.founderName;
    if (data.currentStep) {
        currentStep = data.currentStep;
        updateStepDisplay();
    }
}
    let isInitialLoad = true;
    let currentStep = 1;
    let keywords = [];
    let uploadedFiles = {
        startupLogo: null,
        pitchDeck: null,
        transactionProof: null
    };

    // 1. Authentication State Observer
    onAuthStateChanged(auth, (user) => {
        if (user) {
            currentUser = user;
            isInitialLoad = false;
            console.log("User verified:", user.uid);
        } else {
            if (!isInitialLoad) {
                window.location.href = 'login2.html';
            } else {
                setTimeout(() => {
                    if (!auth.currentUser) window.location.href = 'login2.html';
                }, 2000);
                isInitialLoad = false;
            }
        }
    });
// Handle hash navigation
window.addEventListener('hashchange', handleHashChange);
window.addEventListener('load', handleHashChange);

function handleHashChange() {
    const hash = window.location.hash.slice(1); // Remove #
    
    if (hash === 'founder_dashboard') {
        showDashboard();
    } else if (hash.startsWith('vest_step')) {
        const stepNum = parseInt(hash.replace('vest_step', ''));
        if (stepNum >= 1 && stepNum <= 5) {
            currentStep = stepNum;
            updateStepDisplay();
            showVestForm();
        }
    } else {
        // Default to vest form
        window.location.hash = 'vest_step1';
    }
}

function showVestForm() {
    document.title = "Create Your Vest | ScaleVest"; 
    document.querySelector('.vest-container').style.display = 'block';
    document.getElementById('dashboardContainer')?.remove();
}

function showDashboard() {
    document.querySelector('.vest-container').style.display = 'none';
    
    let container = document.getElementById('dashboardContainer');
    if (!container) {
        // Create container if it doesn't exist
        container = document.createElement('div');
        container.id = 'dashboardContainer';
        container.style.display = 'none';
        document.body.appendChild(container);
    }
    
    createDashboard();
}
async function createDashboard() {
    // Change page title
    document.title = "Founder Dashboard | ScaleVest";
    
    if (!currentUser) return;
    
    // Fetch user data
    const founderProfileRef = ref(db, `founderProfile/${currentUser.uid}`);
    const startupProfileRef = ref(db, `startupprofile/${currentUser.uid}`);
    const vestsRef = ref(db, `Vests/${currentUser.uid}`);
    
    let founderData = null;
    let startupData = null;
    let vestsData = {};
    
    try {
        const founderSnap = await get(founderProfileRef);
        founderData = founderSnap.val();
        
        // Auto-create founder profile if not exists
        if (!founderData) {
            const email = currentUser.email || 'user@scalevest.com';
            const username = email.split('@')[0];
            const firstLetter = email.charAt(0).toUpperCase();
            const userId = generateUserId(username);
            
            founderData = {
                founderUsername: username,
                founderImage: firstLetter,
                userId: userId,
                email: email,
                createdAt: new Date().toISOString()
            };
            
            await set(founderProfileRef, founderData);
        }
        
        const startupSnap = await get(startupProfileRef);
        startupData = startupSnap.val();
        
        const vestsSnap = await get(vestsRef);
        if (vestsSnap.exists()) {
            vestsData = vestsSnap.val();
        }
    } catch (error) {
        console.error('Error fetching data:', error);
    }
    
    const draftCount = Object.values(vestsData).filter(v => v.status === 'draft').length;
    const activeCount = Object.values(vestsData).filter(v => v.status === 'live').length;
    
    const dashboardHTML = `
        <div style="max-width: 1400px; margin: 0 auto;">
            <!-- Top Navigation Bar -->
            <div style="background: #1a1a1a; padding: 15px 30px; border-radius: 15px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #333;">
                <div style="display: flex; align-items: center; gap: 40px;">
                    <div style="font-size: 1.5rem; font-weight: bold; background: linear-gradient(135deg, #ff006e, #8338ec, #3a86ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        ScaleVest
                    </div>
                    <nav style="display: flex; gap: 30px;">
                        <a href="#founder_dashboard" style="color: #fff; text-decoration: none; font-weight: 500; transition: color 0.3s;" onmouseover="this.style.color='#ff006e'" onmouseout="this.style.color='#fff'">Dashboard</a>
                        <a href="#" style="color: #888; text-decoration: none; font-weight: 500; transition: color 0.3s;" onmouseover="this.style.color='#ff006e'" onmouseout="this.style.color='#888'">My Startup</a>
                        <a href="#" style="color: #888; text-decoration: none; font-weight: 500; transition: color 0.3s;" onmouseover="this.style.color='#ff006e'" onmouseout="this.style.color='#888'">Analytics</a>
                        <div style="position: relative; display: inline-block;">
                            <a href="#" id="scaleElevateBtn" style="color: #888; text-decoration: none; font-weight: 500; display: flex; align-items: center; gap: 5px; transition: color 0.3s;" onmouseover="this.style.color='#ff006e'" onmouseout="this.style.color='#888'">
                                Scale & Elevate
                                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M6 9l6 6 6-6"/>
                                </svg>
                            </a>
                            <div id="scaleDropdown" style="display: none; position: absolute; top: 100%; left: 0; background: #222; border: 1px solid #333; border-radius: 10px; padding: 10px 0; margin-top: 10px; min-width: 200px; z-index: 1000;">
                                <a href="#" style="display: block; padding: 12px 20px; color: #fff; text-decoration: none; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">Founder Emergence</a>
                                <a href="#" style="display: block; padding: 12px 20px; color: #fff; text-decoration: none; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">Referrals</a>
                                <a href="#" style="display: block; padding: 12px 20px; color: #fff; text-decoration: none; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">Contacts</a>
                                <a href="#" style="display: block; padding: 12px 20px; color: #fff; text-decoration: none; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">My Trials</a>
                            </div>
                        </div>
                    </nav>
                </div>
                
                <div style="display: flex; align-items: center; gap: 20px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2" style="cursor: pointer;" onmouseover="this.style.stroke='#ff006e'" onmouseout="this.style.stroke='#888'">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                    </svg>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2" style="cursor: pointer;" onmouseover="this.style.stroke='#ff006e'" onmouseout="this.style.stroke='#888'">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                    <div style="position: relative;">
                        <div id="profileDropdownBtn" style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #ff006e, #8338ec); display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer; font-size: 1.2rem;">
                            ${founderData?.founderImage || 'U'}
                        </div>
                        <div id="profileDropdown" style="display: none; position: absolute; top: 100%; right: 0; background: #222; border: 1px solid #333; border-radius: 10px; padding: 15px; margin-top: 10px; min-width: 250px; z-index: 1000;">
                            <div style="padding-bottom: 15px; border-bottom: 1px solid #333; margin-bottom: 15px;">
                                <div style="font-weight: 600; color: #fff; margin-bottom: 5px;">${founderData?.founderUsername || 'User'}</div>
                                <div style="font-size: 0.85rem; color: #888;">${founderData?.userId || 'USER_ID'}</div>
                            </div>
                            <a href="#" style="display: block; padding: 10px; color: #fff; text-decoration: none; border-radius: 8px; margin-bottom: 5px; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">Switch to Browse</a>
                            <a href="#" style="display: block; padding: 10px; color: #fff; text-decoration: none; border-radius: 8px; margin-bottom: 5px; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">Refer a Friend</a>
                            <a href="#" style="display: block; padding: 10px; color: #fff; text-decoration: none; border-radius: 8px; margin-bottom: 5px; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">Profile</a>
                            <a href="#" onclick="auth.signOut(); return false;" style="display: block; padding: 10px; color: #ff006e; text-decoration: none; border-radius: 8px; transition: background 0.3s;" onmouseover="this.style.background='#333'" onmouseout="this.style.background='transparent'">Log Out</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Welcome Section -->
            <div style="margin-bottom: 30px;">
                <h2 style="font-size: 2rem; margin-bottom: 10px;">Welcome, ${founderData?.founderUsername || 'Founder'}! </h2>
                <p style="color: #888;">Here's what's happening with your startups today.</p>
            </div>

            <!-- 4 Box Grid -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 40px;">
                <!-- Profile Box -->
                <div style="background: #1a1a1a; border: 1px solid #333; border-radius: 15px; padding: 30px; text-align: center;">
                    <div style="width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 50%; background: linear-gradient(135deg, #ff006e, #8338ec); display: flex; align-items: center; justify-content: center; font-size: 2rem; font-weight: bold;">
                        ${founderData?.founderImage || 'U'}
                    </div>
                    <h3 style="margin-bottom: 5px; font-size: 1.2rem;">${founderData?.founderUsername || 'Username'}</h3>
                    <p style="color: #888; font-size: 0.85rem; margin-bottom: 20px;">${founderData?.userId || 'USER_ID'}</p>
                    <button onclick="alert('Profile feature coming soon!')" style="width: 100%; padding: 10px; background: #333; border: none; border-radius: 8px; color: #fff; font-weight: 600; cursor: pointer; transition: background 0.3s;" onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">View Profile</button>
                </div>

                <!-- Startup Box -->
                <div style="background: #1a1a1a; border: 1px solid #333; border-radius: 15px; padding: 30px; text-align: center;">
                    ${startupData ? `
                        <img src="${startupData.logo || ''}" alt="Startup Logo" style="width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 50%; object-fit: cover; background: #333;" onerror="this.style.display='none'">
                        <h3 style="margin-bottom: 5px; font-size: 1.2rem;">${startupData.startupName || 'My Startup'}</h3>
                        <p style="color: #888; font-size: 0.85rem; margin-bottom: 20px;">${generateStartupId(startupData.startupName)}</p>
                    ` : `
                        <div style="width: 80px; height: 80px; margin: 0 auto 15px; border-radius: 50%; background: #333; display: flex; align-items: center; justify-content: center;">
                            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                                <polyline points="9 22 9 12 15 12 15 22"/>
                            </svg>
                        </div>
                        <h3 style="margin-bottom: 5px; font-size: 1.2rem;">No Startup</h3>
                        <p style="color: #888; font-size: 0.85rem; margin-bottom: 20px;">Create your startup profile</p>
                    `}
                    <button onclick="alert('Startup profile feature coming soon!')" style="width: 100%; padding: 10px; background: #333; border: none; border-radius: 8px; color: #fff; font-weight: 600; cursor: pointer; transition: background 0.3s;" onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">View Startup</button>
                </div>

                <!-- Availability Box -->
                <div style="background: #1a1a1a; border: 1px solid #333; border-radius: 15px; padding: 30px; text-align: center;">
                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" style="margin: 0 auto 15px;">
                        <circle cx="12" cy="12" r="10"/>
                        <polyline points="12 6 12 12 16 14"/>
                    </svg>
                    <h3 style="margin-bottom: 5px; font-size: 1.2rem;">Founder Availability</h3>
                    <p style="color: #888; font-size: 0.85rem; margin-bottom: 5px;">Currently: <span style="color: #10b981; font-weight: 600;">Available</span></p>
                    <p style="color: #666; font-size: 0.75rem; margin-bottom: 20px; line-height: 1.4;">Set when you're unavailable - your vests won't be online on those days</p>
                    <button onclick="alert('Availability settings coming soon!')" style="width: 100%; padding: 10px; background: #333; border: none; border-radius: 8px; color: #fff; font-weight: 600; cursor: pointer; transition: background 0.3s;" onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">Set Availability</button>
                </div>

                <!-- Inbox Box -->
                <div style="background: #1a1a1a; border: 1px solid #333; border-radius: 15px; padding: 20px; overflow: hidden;">
                    <h3 style="margin-bottom: 15px; font-size: 1.2rem; display: flex; align-items: center; gap: 10px;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#ff006e" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                        Inbox
                    </h3>
                    <div style="max-height: 180px; overflow-y: auto;">
                        <div style="padding: 12px; background: #222; border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: background 0.3s;" onmouseover="this.style.background='#2a2a2a'" onmouseout="this.style.background='#222'">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span style="font-weight: 600; font-size: 0.9rem;">No messages yet</span>
                                <span style="font-size: 0.75rem; color: #888;">Just now</span>
                            </div>
                            <p style="font-size: 0.85rem; color: #888;">Your inbox is empty. Connect with investors!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3 Banners Section -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-bottom: 40px;">
                <!-- Banner 1: Founder Emergence -->
                <div style="background: linear-gradient(135deg, #ff006e20, #8338ec20); border: 1px solid #ff006e40; border-radius: 15px; padding: 25px; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: -20px; right: -20px; width: 100px; height: 100px; background: radial-gradient(circle, #ff006e30, transparent); border-radius: 50%;"></div>
                    <h3 style="font-size: 1.3rem; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ff006e" stroke-width="2">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                        </svg>
                        Start Founder Emergence
                    </h3>
                    <p style="color: #ccc; font-size: 0.9rem; margin-bottom: 15px; line-height: 1.5;">Reach out to more and more interested investors</p>
                    <a href="#" style="display: inline-block; padding: 10px 20px; background: linear-gradient(135deg, #ff006e, #8338ec); color: #fff; text-decoration: none; border-radius: 8px; font-weight: 600; transition: transform 0.3s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">Check Out Founder Emergence</a>
                    <p style="color: #888; font-size: 0.8rem; margin-top: 10px;">Help get your startup funded soon!</p>
                </div>

                <!-- Banner 2: Auto Replies -->
                <div style="background: linear-gradient(135deg, #3a86ff20, #10b98120); border: 1px solid #3a86ff40; border-radius: 15px; padding: 25px; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: -20px; right: -20px; width: 100px; height: 100px; background: radial-gradient(circle, #3a86ff30, transparent); border-radius: 50%;"></div>
                    <h3 style="font-size: 1.3rem; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#3a86ff" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                            <path d="M8 10h.01M12 10h.01M16 10h.01"/>
                        </svg>
                        Set Up Auto Replies
                    </h3>
                    <p style="color: #ccc; font-size: 0.9rem; margin-bottom: 15px; line-height: 1.5;">Set up auto first reply to greet your investors</p>
                    <a href="#" style="display: inline-block; padding: 10px 20px; background: linear-gradient(135deg, #3a86ff, #10b981); color: #fff; text-decoration: none; border-radius: 8px; font-weight: 600; transition: transform 0.3s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">Configure Auto Replies</a>
                    <p style="color: #888; font-size: 0.8rem; margin-top: 10px;">Never miss an investor inquiry!</p>
                </div>

                <!-- Banner 3: Active Vests -->
                <div style="background: linear-gradient(135deg, #8338ec20, #ff006e20); border: 1px solid #8338ec40; border-radius: 15px; padding: 25px; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: -20px; right: -20px; width: 100px; height: 100px; background: radial-gradient(circle, #8338ec30, transparent); border-radius: 50%;"></div>
                    <h3 style="font-size: 1.3rem; margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#8338ec" stroke-width="2">
                            <path d="M12 2L2 7L12 12L22 7L12 2Z"/>
                            <path d="M2 17L12 22L22 17"/>
                            <path d="M2 12L12 17L22 12"/>
                        </svg>
                        Active Vests
                    </h3>
                    <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                        <button onclick="filterVests('active')" style="flex: 1; padding: 8px; background: #333; border: none; border-radius: 8px; color: #fff; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">Active (${activeCount})</button>
                        <button onclick="filterVests('draft')" style="flex: 1; padding: 8px; background: #333; border: none; border-radius: 8px; color: #fff; font-weight: 600; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">Draft (${draftCount})</button>
                    </div>
                    <a href="#vest_step1" style="display: inline-block; padding: 10px 20px; background: linear-gradient(135deg, #8338ec, #ff006e); color: #fff; text-decoration: none; border-radius: 8px; font-weight: 600; transition: transform 0.3s;" onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">Create New Vest</a>
                    <p style="color: #888; font-size: 0.8rem; margin-top: 10px;">Manage your funding campaigns</p>
                </div>
            </div>
        </div>
    `;
    
    const container = document.getElementById('dashboardContainer');
    container.innerHTML = dashboardHTML;
    container.style.display = 'block';
    
    // Add dropdown interactions
    setTimeout(() => {
        document.getElementById('scaleElevateBtn').addEventListener('click', (e) => {
            e.preventDefault();
            const dropdown = document.getElementById('scaleDropdown');
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        });
        
        document.getElementById('profileDropdownBtn').addEventListener('click', () => {
            const dropdown = document.getElementById('profileDropdown');
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        });
        
        document.addEventListener('click', (e) => {
            if (!e.target.closest('#scaleElevateBtn') && !e.target.closest('#scaleDropdown')) {
                document.getElementById('scaleDropdown').style.display = 'none';
            }
            if (!e.target.closest('#profileDropdownBtn') && !e.target.closest('#profileDropdown')) {
                document.getElementById('profileDropdown').style.display = 'none';
            }
        });
    }, 100);
}

function generateUserId(username) {
    const hash = username.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
    return 'SV' + hash.toString(36).toUpperCase().slice(0, 8);
}

function generateStartupId(startupName) {
    if (!startupName) return 'STARTUP_ID';
    const hash = startupName.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
    return 'ST' + hash.toString(36).toUpperCase().slice(0, 8);
}

window.filterVests = function(type) {
    alert(`Filtering ${type} vests - feature coming soon!`);
};
    // 2. Tags/Keywords logic
    const keywordInput = document.getElementById('keywordInput');
    const tagsContainer = document.getElementById('tagsContainer');

    keywordInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            e.preventDefault();
            const value = this.value.trim();
            if (value && keywords.length < 5 && !keywords.includes(value)) {
                keywords.push(value);
                addTagPill(value);
                this.value = '';
            } else if (keywords.length >= 5) {
                alert('Maximum 5 keywords allowed');
            }
        }
    });

    function addTagPill(keyword) {
        const pill = document.createElement('div');
        pill.className = 'tag-pill';
        pill.innerHTML = `${keyword} <button class="tag-remove" onclick="removeTag('${keyword}')"></button>`;
        tagsContainer.appendChild(pill);
    }

    window.removeTag = function(keyword) {
        keywords = keywords.filter(k => k !== keyword);
        updateTagsDisplay();
    };

function updateTagsDisplay() {
    tagsContainer.innerHTML = '';
    keywords.forEach(keyword => addTagPill(keyword));
}

// Auto-save on input change
document.addEventListener('input', (e) => {
    if (e.target.matches('input, textarea, select')) {
        saveToLocalStorage();
    }
});

// Load saved data on page load
window.addEventListener('load', () => {
    setTimeout(loadFromLocalStorage, 500);
});



    // 3. Navigation
window.nextStep = function() {
    if (currentStep < 5) {
        currentStep++;
        saveToLocalStorage();
        window.location.hash = `vest_step${currentStep}`;
        updateStepDisplay();
        if (currentStep === 5) displaySummary();
    }
};

window.previousStep = function() {
    if (currentStep > 1) {
        currentStep--;
        saveToLocalStorage();
        window.location.hash = `vest_step${currentStep}`;
        updateStepDisplay();
    }
};

    function updateStepDisplay() {
        document.querySelectorAll('.step-content').forEach(el => el.classList.remove('active'));
        document.querySelector(`.step-content[data-step="${currentStep}"]`).classList.add('active');
        document.querySelectorAll('.step-indicator').forEach((el, index) => {
            el.classList.remove('active', 'completed');
            if (index + 1 === currentStep) el.classList.add('active');
            else if (index + 1 < currentStep) el.classList.add('completed');
        });
    }

    // 4. File Upload Logic
    async function uploadFileToStorage(file, folder) {
        if (!file || !currentUser) return null;
        const fileName = `${folder}/${currentUser.uid}/${Date.now()}_${file.name}`;
        const fileRef = storageRef(storage, fileName);
        try {
            await uploadBytes(fileRef, file);
            return await getDownloadURL(fileRef);
        } catch (error) {
            console.error('Upload error:', error);
            return null;
        }
    }

    async function processAllFiles() {
        const logoFile = document.getElementById('startupLogo').files[0];
        const pitchFile = document.getElementById('pitchDeck').files[0];
        const transFile = document.getElementById('transactionProof').files[0];

        if (logoFile && !uploadedFiles.startupLogo) {
            uploadedFiles.startupLogo = await uploadFileToStorage(logoFile, 'startup-logos');
        }
        if (pitchFile && !uploadedFiles.pitchDeck) {
            uploadedFiles.pitchDeck = await uploadFileToStorage(pitchFile, 'pitch-decks');
        }
        if (transFile && !uploadedFiles.transactionProof) {
            uploadedFiles.transactionProof = await uploadFileToStorage(transFile, 'transactions');
        }
    }

    // 5. Data Collection & Saving
    function collectVestData() {
        if (!currentUser) return null;
        const fundingOptions = [];
        if (document.getElementById('debt').checked) fundingOptions.push('debt');
        if (document.getElementById('royalty').checked) fundingOptions.push('royalty');
        if (document.getElementById('equity').checked) fundingOptions.push('equity');

        return {
            vestTitle: document.getElementById('vestTitle').value || '',
            vestDescription: document.getElementById('vestDescription').value || '',
            keywords: keywords,
            startupLogoUrl: uploadedFiles.startupLogo || '', // URL from Storage
            startupStage: document.getElementById('startupStage').value || '',
            category: document.getElementById('category').value || '',
            startupName: document.getElementById('startupName').value || '',
            startupDescription: document.getElementById('startupDescription').value || '',
            pitchDeckUrl: uploadedFiles.pitchDeck || '',
            transactionProofUrl: uploadedFiles.transactionProof || '',
            fundingAmount: document.getElementById('fundingAmount').value || '',
            openToEquity: true,
            fundingOptions: fundingOptions,
            founderName: document.getElementById('founderName').value || '',
            createdAt: new Date().toISOString(),
            userId: currentUser.uid
        };
    }

    window.saveAsDraft = async function() {
        const btn = event.currentTarget;
        const originalText = btn.innerHTML;
        btn.innerHTML = ' Uploading & Saving...';
        btn.disabled = true;

        try {
            await processAllFiles(); // Upload files first
const logoFile = document.getElementById('startupLogo').files[0];
if (logoFile && !uploadedFiles.startupLogo) {
    uploadedFiles.startupLogo = await uploadFile(logoFile, 'startup-logos');
}
            const vestData = collectVestData();
            if (!vestData) return;
            vestData.status = 'draft';

            const vestRef = ref(db, `Vests/${currentUser.uid}`);
            await set(push(vestRef), vestData);
            
            btn.innerHTML = ' Saved!';
            setTimeout(() => { btn.innerHTML = originalText; btn.disabled = false; }, 2000);
        } catch (error) {
            btn.innerHTML = ' Error';
            btn.disabled = false;
        }
    };

    window.launchVest = async function() {
        const btn = event.currentTarget;
        btn.innerHTML = ' Launching...';
        btn.disabled = true;

        try {
            await processAllFiles(); // Upload files first
const logoFile = document.getElementById('startupLogo').files[0];
if (logoFile && !uploadedFiles.startupLogo) {
    uploadedFiles.startupLogo = await uploadFile(logoFile, 'startup-logos');
}
            const vestData = collectVestData();
            if (!vestData) return;
            vestData.status = 'live';

            const vestRef = ref(db, `Vests/${currentUser.uid}`);
            await set(push(vestRef), vestData);
            
            document.querySelector('.step-content.active').style.display = 'none';
            document.getElementById('celebration').classList.add('active');
        } catch (error) {
            btn.innerHTML = ' Error';
            btn.disabled = false;
        }
    };

    function displaySummary() {
        const data = collectVestData();
        if (!data) return;
        document.getElementById('summary').innerHTML = `
            <p><strong>Vest Title:</strong> ${data.vestTitle || 'N/A'}</p>
            <p><strong>Startup:</strong> ${data.startupName || 'N/A'}</p>
            <p><strong>Amount:</strong> $${data.fundingAmount || '0'}</p>
            <p><strong>Founder:</strong> ${data.founderName || 'N/A'}</p>
        `;
    }

    // UI File listeners
    document.getElementById('pitchDeck').addEventListener('change', (e) => {
        if (e.target.files[0]) document.getElementById('pitchDeckName').textContent = ' ' + e.target.files[0].name;
    });
    document.getElementById('transactionProof').addEventListener('change', (e) => {
        if (e.target.files[0]) document.getElementById('transactionProofName').textContent = ' ' + e.target.files[0].name;
    });
</script>
<!-- FOUNDER DASHBOARD -->
<div id="dashboardContainer" style="display: none;"></div>
</body>
</html>
